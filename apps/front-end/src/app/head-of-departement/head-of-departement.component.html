<workshop-header> </workshop-header>
<a (click)='getPfeFile()' _ngcontent-fqe-c2=""
class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files
</a>

<div class="kt-portlet__body" >
        <a (click)='getPfeFileWithoutFramer()' _ngcontent-fqe-c2=""
        class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files without framer 
    </a>

    <a (click)='getPfeFileWithoutValidator()' _ngcontent-fqe-c2=""
        class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files without validator 
    </a>

    <a (click)='getPfeFileWithoutReporter()' _ngcontent-fqe-c2=""
    class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files without Reporter 
    </a>

    <a (click)='getPfeFileWithoutNoteF()' _ngcontent-fqe-c2=""
    class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files without Note Framer 
    </a>

    <a (click)='getPfeFileWithoutNoteR()' _ngcontent-fqe-c2=""
    class="btn btn-label-primary btn-bold btn-icon-h kt-margin-l-10" href="/headofdepartement/pfefile#"> Pfe Files without Note Reporter 
    </a>
   
 

        <!--begin: Datatable -->
        <table class="table table-striped- table-bordered table-hover table-checkable" >
            
            <thead>
                <tr>
                    
                    <th> ID</th>
                    <th>fonctionality</th>
                    <th>key</th>
                    <th>problematic</th>
                    <th>Cdescription</th>
                    <th>note Framer</th>
                    <th>note Internship Reporter</th>
                    <th>title</th>
                    <th>Current Year</th>
                    <th>action</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let a of list_pfefile;">
                    <td>{{a.id}}</td>
                    <td> {{a.fonctionality}} </td>
                    <td>{{a.key}}</td>
                    <td>{{a.problematic}}</td>
                    <td>{{a.description}}</td>
                    <td>{{a.note_F}}</td>
                    <td>{{a.note_IR}}</td>
                    <td>{{a.title}}</td>
                    <td>{{a.CurrentYear}}</td>
                    <td nowrap > 
                        

                         
                        <button *ngIf="btnaffecterV" (click)='affecterPfe1(a)' type="button" class="btn btn-brand btn-elevate btn-pill btn-elevate-air btn-sm">Affecter Validator</button>
                        <button *ngIf="btnaffecterF" (click)='affecterPfe2(a)' type="button" class="btn btn-brand btn-elevate btn-pill btn-elevate-air btn-sm">Affecter Framer</button>
                        <button *ngIf="btnaffecterR" (click)='affecterPfe3(a)' type="button" class="btn btn-brand btn-elevate btn-pill btn-elevate-air btn-sm">Affecter Reporter</button>
                        <button  (click)='getPfeFileHistory(a.id)' type="button" class="btn btn-brand btn-elevate btn-pill btn-elevate-air btn-sm">show pfe fil history</button>
                   
                    

                        
                        </td>

                </tr>

            </tbody>

        </table>
        <!--end: Datatable -->
    </div>



<!-- start affectation validateur pfe -->
<div *ngIf="showpopup1" class="swal2-container swal2-center swal2-shown" style="overflow-y: auto;">
        <div aria-labelledby="swal2-title" aria-describedby="swal2-content" class="swal2-popup swal2-modal swal2-show" tabindex="-1" role="dialog" aria-live="assertive" aria-modal="true" style="display: flex;">
            <div class="swal2-header">
                <ul class="swal2-progress-steps" style="display: none;"></ul>
                <div class="swal2-icon swal2-error" style="display: none;">
                    <span class="swal2-x-mark">
                    <span class="swal2-x-mark-line-left"></span>
                    <span class="swal2-x-mark-line-right"></span></span>
                </div>
                    <div class="swal2-icon swal2-question" style="display: none;"></div>
                    <div class="swal2-icon swal2-warning swal2-animate-warning-icon" style="display: flex;"></div>
                    <div class="swal2-icon swal2-info" style="display: none;"></div>
                    <div class="swal2-icon swal2-success" style="display: none;">
                        <div class="swal2-success-circular-line-left" style="background-color: rgb(255, 255, 255);"></div>
                        <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
                        <div class="swal2-success-ring"></div> <div class="swal2-success-fix" style="background-color: rgb(255, 255, 255);"></div>
                        <div class="swal2-success-circular-line-right" style="background-color: rgb(255, 255, 255);">
                        </div>
                    </div>
                <img class="swal2-image" style="display: none;">
                <h2 class="swal2-title" id="swal2-title" style="display: flex;">select the teacher</h2>
                <select id="kanban-add-board-color" class="form-control" [ngModel]="teacher" (ngModelChange)="onChangeObj($event)" name="teacher_func_name">
                    <option [ngValue]="t" *ngFor="let t of list_teacher">{{t.name}}</option>  
                </select>
                <button type="button" class="swal2-close" aria-label="Close this dialog" style="display: none;">×</button>
            </div>
            <div class="swal2-content">
            <input class="swal2-input" style="display: none;"><input type="file" class="swal2-file" style="display: none;">
            <div class="swal2-range" style="display: none;">
                <input type="range"><output></output>
            </div><select class="swal2-select" style="display: none;"></select>
                <div class="swal2-radio" style="display: none;">
                </div>
                <label for="swal2-checkbox" class="swal2-checkbox" style="display: none;">
                    <input type="checkbox"><span class="swal2-label"></span>
                </label>
                    <textarea class="swal2-textarea" style="display: none;"></textarea>
                    <div class="swal2-validation-message" id="swal2-validation-message">
    
                    </div>
            </div>
                <div class="swal2-actions">
                    <button (click)="affectValidateur(teacher,Currentpfefile)" type="button" class="swal2-confirm swal2-styled" aria-label="" style="display: inline-block; border-left-color: rgb(48, 133, 214); border-right-color: rgb(48, 133, 214);">Send cancel request!</button>
                    <button (click)="hideaffectation()" type="button" class="swal2-cancel swal2-styled" aria-label="" style="display: inline-block;">Cancel</button>
                </div>
            <div class="swal2-footer" style="display: none;"></div>
        </div>
    </div>
    <!-- end affectation pfe ----------------------------------------------------------------------------------------------------->


    
<!-- start affectation framer pfe -->
<div *ngIf="showpopup2" class="swal2-container swal2-center swal2-shown" style="overflow-y: auto;">
        <div aria-labelledby="swal2-title" aria-describedby="swal2-content" class="swal2-popup swal2-modal swal2-show" tabindex="-1" role="dialog" aria-live="assertive" aria-modal="true" style="display: flex;">
            <div class="swal2-header">
                <ul class="swal2-progress-steps" style="display: none;"></ul>
                <div class="swal2-icon swal2-error" style="display: none;">
                    <span class="swal2-x-mark">
                    <span class="swal2-x-mark-line-left"></span>
                    <span class="swal2-x-mark-line-right"></span></span>
                </div>
                    <div class="swal2-icon swal2-question" style="display: none;"></div>
                    <div class="swal2-icon swal2-warning swal2-animate-warning-icon" style="display: flex;"></div>
                    <div class="swal2-icon swal2-info" style="display: none;"></div>
                    <div class="swal2-icon swal2-success" style="display: none;">
                        <div class="swal2-success-circular-line-left" style="background-color: rgb(255, 255, 255);"></div>
                        <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
                        <div class="swal2-success-ring"></div> <div class="swal2-success-fix" style="background-color: rgb(255, 255, 255);"></div>
                        <div class="swal2-success-circular-line-right" style="background-color: rgb(255, 255, 255);">
                        </div>
                    </div>
                <img class="swal2-image" style="display: none;">
                <h2 class="swal2-title" id="swal2-title" style="display: flex;">select the teacher</h2>
                <select id="kanban-add-board-color" class="form-control" [ngModel]="teacher" (ngModelChange)="onChangeObj($event)" name="teacher_func_name">
                    <option [ngValue]="t" *ngFor="let t of list_teacher">{{t.name}}</option>  
                </select>
                <button type="button" class="swal2-close" aria-label="Close this dialog" style="display: none;">×</button>
            </div>
            <div class="swal2-content">
            <input class="swal2-input" style="display: none;"><input type="file" class="swal2-file" style="display: none;">
            <div class="swal2-range" style="display: none;">
                <input type="range"><output></output>
            </div><select class="swal2-select" style="display: none;"></select>
                <div class="swal2-radio" style="display: none;">
                </div>
                <label for="swal2-checkbox" class="swal2-checkbox" style="display: none;">
                    <input type="checkbox"><span class="swal2-label"></span>
                </label>
                    <textarea class="swal2-textarea" style="display: none;"></textarea>
                    <div class="swal2-validation-message" id="swal2-validation-message">
    
                    </div>
            </div>
                <div class="swal2-actions">
                    <button (click)="affectFramer(teacher,Currentpfefile)" type="button" class="swal2-confirm swal2-styled" aria-label="" style="display: inline-block; border-left-color: rgb(48, 133, 214); border-right-color: rgb(48, 133, 214);">Send cancel request!</button>
                    <button (click)="hideaffectation1()" type="button" class="swal2-cancel swal2-styled" aria-label="" style="display: inline-block;">Cancel</button>
                </div>
            <div class="swal2-footer" style="display: none;"></div>
        </div>
    </div>
    <!-- end affectation pfe ----------------------------------------------------------------------------------------------------->




    

    <!-- start affectation Reporter pfe -->
<div *ngIf="showpopup3" class="swal2-container swal2-center swal2-shown" style="overflow-y: auto;">
    <div aria-labelledby="swal2-title" aria-describedby="swal2-content" class="swal2-popup swal2-modal swal2-show" tabindex="-1" role="dialog" aria-live="assertive" aria-modal="true" style="display: flex;">
        <div class="swal2-header">
            <ul class="swal2-progress-steps" style="display: none;"></ul>
            <div class="swal2-icon swal2-error" style="display: none;">
                <span class="swal2-x-mark">
                <span class="swal2-x-mark-line-left"></span>
                <span class="swal2-x-mark-line-right"></span></span>
            </div>
                <div class="swal2-icon swal2-question" style="display: none;"></div>
                <div class="swal2-icon swal2-warning swal2-animate-warning-icon" style="display: flex;"></div>
                <div class="swal2-icon swal2-info" style="display: none;"></div>
                <div class="swal2-icon swal2-success" style="display: none;">
                    <div class="swal2-success-circular-line-left" style="background-color: rgb(255, 255, 255);"></div>
                    <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
                    <div class="swal2-success-ring"></div> <div class="swal2-success-fix" style="background-color: rgb(255, 255, 255);"></div>
                    <div class="swal2-success-circular-line-right" style="background-color: rgb(255, 255, 255);">
                    </div>
                </div>
            <img class="swal2-image" style="display: none;">
            <h2 class="swal2-title" id="swal2-title" style="display: flex;">select the teacher</h2>
            <select id="kanban-add-board-color" class="form-control" [ngModel]="teacher" (ngModelChange)="onChangeObj($event)" name="teacher_func_name">
                <option [ngValue]="t" *ngFor="let t of list_teacher">{{t.name}}</option>  
            </select>
            <button type="button" class="swal2-close" aria-label="Close this dialog" style="display: none;">×</button>
        </div>
        <div class="swal2-content">
        <input class="swal2-input" style="display: none;"><input type="file" class="swal2-file" style="display: none;">
        <div class="swal2-range" style="display: none;">
            <input type="range"><output></output>
        </div><select class="swal2-select" style="display: none;"></select>
            <div class="swal2-radio" style="display: none;">
            </div>
            <label for="swal2-checkbox" class="swal2-checkbox" style="display: none;">
                <input type="checkbox"><span class="swal2-label"></span>
            </label>
                <textarea class="swal2-textarea" style="display: none;"></textarea>
                <div class="swal2-validation-message" id="swal2-validation-message">

                </div>
        </div>
            <div class="swal2-actions">
                <button (click)="affectReporter(teacher,Currentpfefile)" type="button" class="swal2-confirm swal2-styled" aria-label="" style="display: inline-block; border-left-color: rgb(48, 133, 214); border-right-color: rgb(48, 133, 214);">Send cancel request!</button>
                <button (click)="hideaffectation3()" type="button" class="swal2-cancel swal2-styled" aria-label="" style="display: inline-block;">Cancel</button>
            </div>
        <div class="swal2-footer" style="display: none;"></div>
    </div>
</div>





<!-- model of pfe file history -->
<div *ngIf="showHistory" id="exampleModalLive2" class="modal fade show" tabindex="-1" role="dialog" aria-labelledby="exampleModalLiveLabel2"
 style="display: none; padding-right: 15px;">
        <div class="modal-dialog" role="document" >
          <div class="modal-content" >
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLiveLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div  *ngFor="let t of list_pfefile_history" class="modal-body" >
              <p> type of operation :</p>
              {{t.typeOfOperation}} 
              <p> event :</p>
               {{t.event}} 
              <p> pfe title :</p>
               {{t.pfeFile.title}} 
              <p> date :</p>
               {{t.date | date}} 
            </div>
            <div class="modal-footer">
              <button (click)="pfeHistoryOut()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- end model of history -->


      

    <workshop-footer></workshop-footer>
